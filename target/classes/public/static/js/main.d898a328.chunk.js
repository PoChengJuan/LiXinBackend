(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{118:function(e,t,a){},137:function(e,t,a){e.exports=a.p+"static/media/Logo.7405eedf.png"},279:function(e,t,a){},325:function(e,t,a){e.exports=a(625)},330:function(e,t,a){},331:function(e,t,a){},352:function(e,t,a){},453:function(e,t,a){},454:function(e,t,a){},615:function(e,t,a){},616:function(e,t,a){},617:function(e,t,a){},618:function(e,t,a){},619:function(e,t,a){},620:function(e,t,a){},621:function(e,t,a){},622:function(e,t,a){},623:function(e,t,a){},625:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),l=a(11),c=a.n(l),r=(a(330),a(118),a(48)),s=a(82),i=a(21),m=a(26),d=a(23),h=a(22),u=a(24),p=a(637),g=a(628),f=a(629),S=a(630),w=a(137),E=a.n(w),y=(a(331),a(17)),b=a.n(y),v=a(198),D=a.n(v),k=a(8),I=a.n(k),Y=(o.a.Component,"http://114.35.249.80:8080"),M=a(636),O=a(639),j=a(13),x=a(74),P=(a(352),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){e||(console.log("Received values of form: ",t),a.props.submit(t.username,t.password))})},a}return Object(u.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return o.a.createElement(M.a,{onSubmit:this.handleSubmit,className:"login-form"},o.a.createElement(M.a.Item,null,e("username",{rules:[{required:!0,message:"Please input your username!"}]})(o.a.createElement(O.a,{prefix:o.a.createElement(j.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),autoFocus:!0,placeholder:"Username"}))),o.a.createElement(M.a.Item,null,e("password",{rules:[{required:!0,message:"Please input your Password!"}]})(o.a.createElement(O.a,{prefix:o.a.createElement(j.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"}))),o.a.createElement(M.a.Item,null,o.a.createElement(x.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"Log in")))}}]),t}(o.a.Component)),C=M.a.create({name:"normal_login"})(P),B=(p.a.Title,g.a.Header),F=g.a.Content,U=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={isAuth:"",userInput:"",pwInput:"",Name:"",Password:"",Permission:"",ShopName:"",Branch:""},a}return Object(u.a)(t,e),Object(m.a)(t,[{key:"UserHandle",value:function(e){this.setState({userInput:e.target.value})}},{key:"PSHandle",value:function(e){this.setState({pwInput:e.target.value})}},{key:"LoginFunction",value:function(e,t){var a=this;b.a.get(Y+"/User/getMember",{params:{name:e,password:D()(t)}}).then(function(e){for(var n in e.data[0])"auto_increment"===n&&window.sessionStorage.setItem("auto_increment",e.data[0][n]),"name"===n&&(a.setState({Name:e.data[0][n]}),window.localStorage.setItem("name",e.data[0][n])),"password"===n&&a.setState({Password:e.data[0][n]}),"permission"===n&&(a.setState({Permission:e.data[0][n]}),window.sessionStorage.setItem("permission",e.data[0][n])),"shopname"===n&&(a.setState({ShopName:e.data[0][n]}),window.localStorage.setItem("shopname",e.data[0][n])),"branch"===n&&(a.setState({Branch:e.data[0][n]}),window.localStorage.setItem("branch",e.data[0][n])),"lastupload"===n&&window.sessionStorage.setItem("lastupload",e.data[0][n]);D()(t)===a.state.Password&&(window.sessionStorage.setItem("isAuth","true"),a.setState({isAuth:"true"}))}).catch(function(e){console.log(e)})}},{key:"render",value:function(){return"true"===this.state.isAuth?(console.log("OK"),window.sessionStorage.getItem("permission")>=9?(console.log("main"),o.a.createElement(s.a,{to:"Main"})):(console.log("stock"),o.a.createElement(s.a,{to:"User"}))):o.a.createElement("div",{className:"App"},o.a.createElement(f.a,null,o.a.createElement(g.a,null,o.a.createElement(S.a,{span:24},o.a.createElement(B,{className:"Header"})),o.a.createElement(S.a,{span:24},o.a.createElement(F,{className:"Content"},o.a.createElement("div",{className:"LoginContent"},o.a.createElement("img",{src:E.a,alt:"CSILogo"}),o.a.createElement("div",null,o.a.createElement(C,{userInput:this.state.userInput,pwInput:this.state.pwInput,submit:this.LoginFunction.bind(this)}))))))))}},{key:"componentWillMount",value:function(){this.setState({isAuth:window.sessionStorage.getItem("isAuth")})}}]),t}(o.a.Component);var W=function(){return o.a.createElement(U,null)},L=a(205),N=a(150),A=(a(453),a(46)),K=a(635),H=(a(454),a(9)),_=a(634),z=_.a.RangePicker,R=[{key:1,"\u65e5\u671f":"2019-06-04","\u71df\u696d\u984d":"2000","\u9032\u8ca8\u652f\u51fa":0,"\u96dc\u652f":0},{key:2,"\u65e5\u671f":"2019-06-12","\u71df\u696d\u984d":"1345","\u9032\u8ca8\u652f\u51fa":"75","\u96dc\u652f":"0"}],V=function(e){function t(){return Object(i.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.x,a=e.y,n=e.stroke,l=e.value;return o.a.createElement("text",{x:t,y:a,dy:-4,fill:n,fontSize:10,textAnchor:"middle"},l)}}]),t}(o.a.Component),G=(o.a.Component,function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).handleChange=function(e,t,n){a.setState({filteredInfo:t,sortedInfo:n})},a.updateDimensions=function(e){console.log("AreaChart updateDimensions");var t=a.refDom,n=t.clientWidth,o=t.clientHeight;console.log("===================================="),console.log(n,o,a.refDom),console.log("===================================="),a.setState({chartWidth:n})},a.state={data:R,startDate:I()().add("day",-7).format("YYYY-MM-DD"),endDate:I()().format("YYYY-MM-DD"),chartWidth:a.props.Width,chartHeight:500},a.saveRef=function(e){a.refDom=e},a.updateDimensions=a.updateDimensions.bind(Object(A.a)(a)),a}return Object(u.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.state.sortedInfo,t=[{title:"\u65e5\u671f",dataIndex:"\u65e5\u671f",key:"\u65e5\u671f",width:"10%"},{title:"\u71df\u696d\u984d",dataIndex:"\u71df\u696d\u984d",key:"\u71df\u696d\u984d",width:"30%",defaultSortOrder:"descend",sorter:function(e,t){return e.\u71df\u696d\u984d-t.\u71df\u696d\u984d},sortOrder:"\u71df\u696d\u984d"===(e=e||{}).columnKey&&e.order},{title:"\u9032\u8ca8\u652f\u51fa",dataIndex:"\u9032\u8ca8\u652f\u51fa",key:"\u9032\u8ca8\u652f\u51fa",width:"30%",sorter:function(e,t){return e.\u9032\u8ca8\u652f\u51fa-t.\u9032\u8ca8\u652f\u51fa},sortOrder:"\u9032\u8ca8\u652f\u51fa"===e.columnKey&&e.order},{title:"\u96dc\u652f",dataIndex:"\u96dc\u652f",key:"\u96dc\u652f",width:"30%",sorter:function(e,t){return e.\u96dc\u652f-t.\u96dc\u652f},sortOrder:"\u96dc\u652f"===e.columnKey&&e.order}];return o.a.createElement(f.a,null,o.a.createElement(S.a,{span:24},o.a.createElement("div",{ref:this.saveRef},o.a.createElement(z,{defaultValue:[I()(this.state.startDate,"YYYY-MM-DD"),I()(this.state.endDate,"YYYY-MM-DD")],format:"YYYY-MM-DD",onChange:this.DatePickerFunction.bind(this)}),o.a.createElement(H.g,{width:this.state.chartWidth,height:this.state.chartHeight,data:this.state.data,margin:{top:20,right:30,left:20,bottom:10}},o.a.createElement(H.c,{strokeDasharray:"3 3"}),o.a.createElement(H.k,{dataKey:"\u65e5\u671f"}),o.a.createElement(H.l,null),o.a.createElement(H.j,null),o.a.createElement(H.e,null),o.a.createElement(H.f,{type:"monotone",dataKey:"\u71df\u696d\u984d",stroke:"#0066FF",label:o.a.createElement(V,null)}),o.a.createElement(H.f,{type:"monotone",dataKey:"\u9032\u8ca8\u652f\u51fa",stroke:"#77FF00",label:o.a.createElement(V,null)}),o.a.createElement(H.f,{type:"monotone",dataKey:"\u96dc\u652f",stroke:"#FF8800",label:o.a.createElement(V,null)})),o.a.createElement(K.a,{columns:t,dataSource:this.state.data,size:"small",pagination:!1,scroll:{y:240},onChange:this.handleChange}))))}},{key:"DatePickerFunction",value:function(e,t){var a=this;window.localStorage.setItem("BalancePageDate_Start",t[0]),window.localStorage.setItem("BalancePageDate_End",t[1]),b.a.get(Y+"/ShopData/getIncomeData",{params:{shopname:window.localStorage.getItem("shopname"),branch:window.localStorage.getItem("branch"),start:t[0],end:t[1]}}).then(function(e){a.setState({data:e.data}),console.log(a.state.data)}).catch(function(e){console.log(e)})}},{key:"componentWillMount",value:function(e){var t=this;window.addEventListener("resize",this.updateDimensions);var a=window.localStorage.getItem("BalancePageDate_Start"),n=window.localStorage.getItem("BalancePageDate_End");console.log(a+"\u548c"+n),null===a||null===n?b.a.get(Y+"/ShopData/getIncomeData",{params:{shopname:window.localStorage.getItem("shopname"),branch:window.localStorage.getItem("branch"),start:I()().add("day",-6).format("YYYY-MM-DD"),end:I()().format("YYYY-MM-DD")}}).then(function(e){t.setState({data:e.data,startDate:I()().add("day",-6).format("YYYY-MM-DD"),endDate:I()().format("YYYY-MM-DD")}),console.log(t.state.data)}).catch(function(e){console.log(e)}):(b.a.get(Y+"/ShopData/getIncomeData",{params:{shopname:window.localStorage.getItem("shopname"),branch:window.localStorage.getItem("branch"),start:a,end:n}}).then(function(e){t.setState({data:e.data}),console.log(t.state.data)}).catch(function(e){console.log(e)}),this.setState({startDate:a,endDate:n})),console.log("componentWillMount")}},{key:"componentWillUnmount",value:function(){console.log("componentWillUnmount"),window.removeEventListener("resize",this.updateDimensions)}},{key:"componentWillUpdate",value:function(){console.log("componentWillUpdate")}}]),t}(o.a.Component)),T=_.a.RangePicker,q=[{name:"Group A",value:400},{name:"Group B",value:300},{name:"Group C",value:300},{name:"Group D",value:200}],J=[{name:"A1",value:100},{name:"A2",value:300},{name:"B1",value:100},{name:"B2",value:80},{name:"B3",value:40},{name:"B4",value:30},{name:"B5",value:50},{name:"C1",value:100},{name:"C2",value:200},{name:"D1",value:150},{name:"D2",value:50}],$=function(e){function t(){return Object(i.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(T,{defaultValue:[I()("2018/01/01","YYYY/MM/DD"),I()("2018/01/01","YYYY/MM/DD")],format:"YYYY/MM/DD"}),o.a.createElement(H.i,{width:1200,height:800},o.a.createElement(H.h,{data:q,dataKey:"value",cx:400,cy:400,outerRadius:300,fill:"#8884d8"}),o.a.createElement(H.h,{data:J,dataKey:"value",cx:400,cy:400,innerRadius:320,outerRadius:350,fill:"#82ca9d",label:!0})))}}]),t}(o.a.Component),Q=(a(615),"2019-06-12"),X=[{title:"\u54c1\u9805",dataIndex:"title",key:"title",render:function(e){return o.a.createElement("a",{href:"javascript:;"},e)}},{title:"\u5eab\u5b58",dataIndex:"stock",key:"stock",width:"2cm"},{title:"\u53eb\u8ca8\u91cf",dataIndex:"order",key:"order",width:"2cm"}],Z=[{title:"\u9805\u76ee",dataIndex:"title",key:"title",render:function(e){return o.a.createElement("a",{href:"javascript:;"},e)}},{title:"\u91d1\u984d",dataIndex:"cost",key:"cost",width:"2cm"}],ee=[{title:"",dataIndex:"title",key:"title",render:function(e){return o.a.createElement("a",{href:"javascript:;"},e)}},{title:"\u91d1\u984d",dataIndex:"income",key:"income",width:"2cm"}],te=[],ae=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).GetData=function(e,t,n){b.a.get(Y+"/ShopData/getStock",{params:{shop:e,branch:t,date:n}}).then(function(e){a.setState({data:e.data})}).catch(function(e){a.setState({data:""}),console.log(e)}),b.a.get(Y+"/ShopData/getExpense",{params:{shop:e,branch:t,date:n}}).then(function(e){a.setState({expense:e.data})}).catch(function(e){a.setState({expense:""}),console.log(e)}),b.a.get(Y+"/ShopData/getIncome",{params:{shop:e,branch:t,date:n}}).then(function(e){a.setState({income:e.data})}).catch(function(e){a.setState({income:""}),console.log(e)})},a.state={data:te,expense:te,income:te,lastUploadDate:Q,stockTableData:"",date:""},a}return Object(u.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.state,t=e.data,a=e.expense;e.stockTableData;return o.a.createElement("div",null,o.a.createElement(_.a,{defaultValue:I()(this.state.date,"YYYY-MM-DD"),format:"YYYY-MM-DD",onChange:this.DatePickerFunction.bind(this)}),o.a.createElement("h2",null),o.a.createElement("h3",{style:{marginBottom:16}},"\u5eab\u5b58"),o.a.createElement(K.a,{columns:X,dataSource:t,size:"small",pagination:!1,scroll:{y:240}}),o.a.createElement("h3",{style:{marginBottom:16}},"\u652f\u51fa"),o.a.createElement(K.a,{columns:Z,dataSource:a,size:"small",pagination:!1,scroll:{y:240}}),o.a.createElement("h3",{style:{marginBottom:16}},"\u6536\u5165"),o.a.createElement(K.a,{columns:ee,dataSource:this.state.income,size:"small",pagination:!1,scroll:{y:240}}))}},{key:"DatePickerFunction",value:function(e,t){console.log(t),window.localStorage.setItem("InfoPageDate",t),this.GetData(window.localStorage.getItem("shopname"),this.props.Branch,t)}},{key:"componentWillUpdate",value:function(){}},{key:"componentWillReceiveProps",value:function(e){}},{key:"componentWillMount",value:function(){null===window.localStorage.getItem("InfoPageDate")?(this.GetData(window.localStorage.getItem("shopname"),this.props.Branch,I()().format("YYYY-MM-DD")),this.setState({date:I()().format("YYYY-MM-DD")})):(this.GetData(window.localStorage.getItem("shopname"),this.props.Branch,window.localStorage.getItem("InfoPageDate")),this.setState({date:window.localStorage.getItem("InfoPageDate")}))}}]),t}(o.a.Component),ne=(a(616),[{name:"Page A",uv:4e3,pv:2400,amt:2400},{name:"Page B",uv:3e3,pv:1398,amt:2210},{name:"Page C",uv:2e3,pv:8,amt:2290},{name:"Page D",uv:2780,pv:3908,amt:2e3},{name:"Page E",uv:18,pv:4800,amt:2181},{name:"Page F",uv:2390,pv:3800,amt:2500},{name:"Page G",uv:3490,pv:4300,amt:2100}]),oe=function(e){var t=e.x,a=e.y,n=e.width,l=(e.height,e.value);return o.a.createElement("g",null,o.a.createElement("circle",{cx:t+n/2,cy:a-10,r:10,fill:"#8884d8"}),o.a.createElement("text",{x:t+n/2,y:a-10,fill:"#fff",textAnchor:"middle",dominantBaseline:"middle"},l.split(" ")[1]))},le=(o.a.Component,a(631)),ce=a(632),re=(a(617),[{key:1,shopname:"xxx"}]),se=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).ShopChangeHandle=function(e){console.log("dropdown change to "+e.key),a.setState({Branch:a.state.BranchList[e.key-1].branch}),window.localStorage.setItem("branch",a.state.BranchList[e.key-1].branch),a.props.shopchange()},a.state={Branch:window.localStorage.getItem("branch"),BranchList:re},a}return Object(u.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.state.BranchList;return o.a.createElement(N.a,{className:"Dropdown",overlay:o.a.createElement(L.b,{onClick:this.ShopChangeHandle},e.map(function(e){return o.a.createElement(L.b.Item,{key:e.key,selectable:!0},e.branch)})),trigger:["click"]},o.a.createElement("a",{className:"ant-dropdown-link"},this.state.Branch," ",o.a.createElement(j.a,{type:"down"})))}},{key:"componentWillMount",value:function(){var e=this;b.a.get(Y+"/ShopInfo/getBranch",{params:{shopname:window.localStorage.getItem("shopname")}}).then(function(t){e.setState({BranchList:t.data})}).catch(function(e){console.log(e)})}}]),t}(o.a.Component),ie=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).shopchange=function(){a.props.shopchange()},a.state={Permission:"",isAuth:a.props.isAuth,withDropdown:a.props.dropdown},a}return Object(u.a)(t,e),Object(m.a)(t,[{key:"LogoutFunction",value:function(){this.props.logout()}}]),Object(m.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement(le.a,{content:o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement("p",null,"\u59d3\u540d\uff1a",this.props.name),o.a.createElement("p",null,"\u4f4d\u7f6e\uff1a",0==this.state.withDropdown&&this.props.branch,1==this.state.withDropdown&&window.sessionStorage.getItem("permission")>=7&&o.a.createElement(se,{render:!1,shopchange:this.shopchange}),1==this.state.withDropdown&&window.sessionStorage.getItem("permission")<7&&this.props.branch),o.a.createElement("p",null,"\u6b0a\u9650\uff1a",this.state.Permission)),o.a.createElement(x.a,{className:"logout",onClick:function(){return e.LogoutFunction()}},"\u767b\u51fa",o.a.createElement(j.a,{type:"logout"}))),trigger:"click"},o.a.createElement(ce.a,{className:"Avatar",shape:this.props.shape,icon:"user",size:this.props.size}))}},{key:"componentWillMount",value:function(){console.log("InfoIcon"),"9"===this.props.permission?this.setState({Permission:"\u958b\u767c\u8005",Display:!0}):"7"===this.props.permission?this.setState({Permission:"\u8001\u95c6",Display:!0}):"5"===this.props.permission?this.setState({Permission:"\u5e97\u9577"}):this.setState({Permission:"\u4eba\u54e1"})}}]),t}(o.a.Component),me=a(115),de=(a(618),me.a.Option),he=_.a.RangePicker,ue=[{key:1,title:"item1"}],pe=function(e){function t(){return Object(i.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.x,a=e.y,n=e.stroke,l=e.value;return o.a.createElement("text",{x:t,y:a,dy:-4,fill:n,fontSize:10,textAnchor:"middle"},l)}}]),t}(o.a.Component),ge=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).ItemSelect=function(e,t){console.log(e),console.log(t),1===t?a.setState({selecter1:e}):2===t?a.setState({selecter2:e}):3===t?a.setState({selecter3:e}):4===t&&a.setState({selecter4:e})},a.handleChange=function(e,t,n){console.log("Various parameters",e,t,n),a.setState({filteredInfo:t,sortedInfo:n}),console.log(n),console.log(a.state.sortedInfo)},a.updateDimensions=function(e){console.log("StockList updateDimensions");var t=a.refDom,n=t.clientWidth,o=t.clientHeight;console.log("===================================="),console.log(n,o,a.refDom),console.log("===================================="),a.setState({chartWidth:n})},a.state={stock:[],sold:[],scrap:[],order:[],itemList:ue,startDate:I()().add("day",-7).format("YYYY-MM-DD"),endDate:I()().format("YYYY-MM-DD"),chartWidth:a.props.Width,chartHeight:250,selecter1:"",selecter2:"",selecter3:"",selecter4:""},a.saveRef=function(e){a.refDom=e},a.updateDimensions=a.updateDimensions.bind(Object(A.a)(a)),a}return Object(u.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.sortedInfo,n=t.filteredInfo;a=a||{};(n=n||{}).name,"name"===a.columnKey&&a.order,"item1"===a.columnKey&&a.order,"item2"===a.columnKey&&a.order,"item3"===a.columnKey&&a.order,"item4"===a.columnKey&&a.order,"item5"===a.columnKey&&a.order,"item6"===a.columnKey&&a.order,"item7"===a.columnKey&&a.order,"item8"===a.columnKey&&a.order;return o.a.createElement("div",{className:"StockList",ref:this.saveRef},o.a.createElement(he,{defaultValue:[I()(this.state.startDate,"YYYY-MM-DD"),I()(this.state.endDate,"YYYY-MM-DD")],format:"YYYY-MM-DD",onChange:this.DatePickerFunction.bind(this)}),o.a.createElement(me.a,{defaultValue:"-",style:{width:180},onChange:function(t){return e.ItemSelect(t,1)}},this.state.itemList.map(function(e){return o.a.createElement(de,{value:e.title},e.title)})),o.a.createElement(me.a,{defaultValue:"-",style:{width:180},onChange:function(t){return e.ItemSelect(t,2)}},this.state.itemList.map(function(e){return o.a.createElement(de,{value:e.title},e.title)})),o.a.createElement(me.a,{defaultValue:"-",style:{width:180},onChange:function(t){return e.ItemSelect(t,3)}},this.state.itemList.map(function(e){return o.a.createElement(de,{value:e.title},e.title)})),o.a.createElement(me.a,{defaultValue:"-",style:{width:180},onChange:function(t){return e.ItemSelect(t,4)}},this.state.itemList.map(function(e){return o.a.createElement(de,{value:e.title},e.title)})),o.a.createElement("h3",null,"\u92b7\u552e\u91cf"),o.a.createElement(H.g,{width:this.state.chartWidth,height:this.state.chartHeight,data:this.state.sold,margin:{top:20,right:30,left:20,bottom:10}},o.a.createElement(H.c,{strokeDasharray:"3 3"}),o.a.createElement(H.k,{dataKey:"Date"}),o.a.createElement(H.l,null),o.a.createElement(H.j,null),o.a.createElement(H.e,null),o.a.createElement(H.f,{type:"monotone",dataKey:this.state.selecter1,stroke:"#ff0000",label:o.a.createElement(pe,null)}),o.a.createElement(H.f,{type:"monotone",dataKey:this.state.selecter2,stroke:"#00ff00",label:o.a.createElement(pe,null)}),o.a.createElement(H.f,{type:"monotone",dataKey:this.state.selecter3,stroke:"#0000FF",label:o.a.createElement(pe,null)}),o.a.createElement(H.f,{type:"monotone",dataKey:this.state.selecter4,troke:"#0066FF",label:o.a.createElement(pe,null)})),o.a.createElement("h3",null,"\u5eab\u5b58"),o.a.createElement(H.g,{width:this.state.chartWidth,height:this.state.chartHeight,data:this.state.stock,margin:{top:20,right:30,left:20,bottom:10}},o.a.createElement(H.c,{strokeDasharray:"3 3"}),o.a.createElement(H.k,{dataKey:"Date"}),o.a.createElement(H.l,null),o.a.createElement(H.j,null),o.a.createElement(H.e,null),o.a.createElement(H.f,{type:"monotone",dataKey:this.state.selecter1,stroke:"#ff0000",label:o.a.createElement(pe,null)}),o.a.createElement(H.f,{type:"monotone",dataKey:this.state.selecter2,stroke:"#00ff00",label:o.a.createElement(pe,null)}),o.a.createElement(H.f,{type:"monotone",dataKey:this.state.selecter3,stroke:"#0000FF",label:o.a.createElement(pe,null)}),o.a.createElement(H.f,{type:"monotone",dataKey:this.state.selecter4,troke:"#0066FF",label:o.a.createElement(pe,null)})),o.a.createElement("h3",null,"\u5831\u5ee2"),o.a.createElement(H.g,{width:this.state.chartWidth,height:this.state.chartHeight,data:this.state.scrap,margin:{top:20,right:30,left:20,bottom:10}},o.a.createElement(H.c,{strokeDasharray:"3 3"}),o.a.createElement(H.k,{dataKey:"Date"}),o.a.createElement(H.l,null),o.a.createElement(H.j,null),o.a.createElement(H.e,null),o.a.createElement(H.f,{type:"monotone",dataKey:this.state.selecter1,stroke:"#ff0000",label:o.a.createElement(pe,null)}),o.a.createElement(H.f,{type:"monotone",dataKey:this.state.selecter2,stroke:"#00ff00",label:o.a.createElement(pe,null)}),o.a.createElement(H.f,{type:"monotone",dataKey:this.state.selecter3,stroke:"#0000FF",label:o.a.createElement(pe,null)}),o.a.createElement(H.f,{type:"monotone",dataKey:this.state.selecter4,troke:"#0066FF",label:o.a.createElement(pe,null)})),o.a.createElement("h3",null,"\u9032\u8ca8"),o.a.createElement(H.g,{width:this.state.chartWidth,height:this.state.chartHeight,data:this.state.order,margin:{top:20,right:30,left:20,bottom:10}},o.a.createElement(H.c,{strokeDasharray:"3 3"}),o.a.createElement(H.k,{dataKey:"Date"}),o.a.createElement(H.l,null),o.a.createElement(H.j,null),o.a.createElement(H.e,null),o.a.createElement(H.f,{type:"monotone",dataKey:this.state.selecter1,stroke:"#ff0000",label:o.a.createElement(pe,null)}),o.a.createElement(H.f,{type:"monotone",dataKey:this.state.selecter2,stroke:"#00ff00",label:o.a.createElement(pe,null)}),o.a.createElement(H.f,{type:"monotone",dataKey:this.state.selecter3,stroke:"#0000FF",label:o.a.createElement(pe,null)}),o.a.createElement(H.f,{type:"monotone",dataKey:this.state.selecter4,troke:"#0066FF",label:o.a.createElement(pe,null)})))}},{key:"DatePickerFunction",value:function(e,t){var a=this;window.localStorage.setItem("StockListPageDate_Start",t[0]),window.localStorage.setItem("StockListPageDate_End",t[1]),b.a.get(Y+"/ShopData/getRangeData",{params:{shopname:window.localStorage.getItem("shopname"),branch:window.localStorage.getItem("branch"),start:t[0],end:t[1]}}).then(function(e){console.log(e.data),a.setState({stock:e.data[0]}),a.setState({scrap:e.data[1]}),a.setState({sold:e.data[2]}),a.setState({order:e.data[3]}),console.log(a.state.stock)}).catch(function(e){console.log(e)})}},{key:"componentWillMount",value:function(){var e=this;window.addEventListener("resize",this.updateDimensions);var t=window.localStorage.getItem("StockListPageDate_Start"),a=window.localStorage.getItem("StockListPageDate_End");b.a.get(Y+"/ShopData/getStockItem",{params:{shopname:window.localStorage.getItem("shopname"),branch:window.localStorage.getItem("branch")}}).then(function(t){e.setState({itemList:t.data}),console.log(e.state.itemList)}).catch(function(e){console.log(e)}),console.log(t+"\u548c"+a),null===t||null===a?b.a.get(Y+"/ShopData/getRangeData",{params:{shopname:window.localStorage.getItem("shopname"),branch:window.localStorage.getItem("branch"),start:I()().add("day",-6).format("YYYY-MM-DD"),end:I()().format("YYYY-MM-DD")}}).then(function(t){e.setState({stock:t.data[0]}),e.setState({scrap:t.data[1]}),e.setState({sold:t.data[2]}),e.setState({order:t.data[3]}),console.log(e.state.stock)}).catch(function(e){console.log(e)}):(b.a.get(Y+"/ShopData/getRangeData",{params:{shopname:window.localStorage.getItem("shopname"),branch:window.localStorage.getItem("branch"),start:t,end:a}}).then(function(t){console.log(t.data[0]),console.log(t.data[1]),e.setState({stock:t.data[0]}),e.setState({scrap:t.data[1]}),e.setState({sold:t.data[2]}),e.setState({order:t.data[3]}),console.log(e.state.stock),console.log(e.state.scrap)}).catch(function(e){console.log(e)}),this.setState({startDate:t,endDate:a})),console.log("componentWillMount")}},{key:"componentWillUnmount",value:function(){console.log("componentWillUnmount"),window.removeEventListener("resize",this.updateDimensions)}},{key:"componentWillUpdate",value:function(){console.log("componentWillUpdate")}}]),t}(o.a.Component),fe=(a(619),_.a.RangePicker),Se={left:"dataMin",right:"dataMax",refAreaLeft:"",refAreaRight:"",top:"dataMax+1",bottom:"dataMin-1",top2:"dataMax+20",bottom2:"dataMin-20",animation:!0,incomedata:"",expensedata:"",chartWidth:1500,chartHeight:700},we=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).updateDimensions=function(e){console.log("AreaChart updateDimensions");var t=a.refDom,n=t.clientWidth,o=t.clientHeight;console.log("===================================="),console.log(n,o,a.refDom),console.log("===================================="),a.setState({chartWidth:n})},a.state=Se,a.saveRef=function(e){a.refDom=e},a.updateDimensions=a.updateDimensions.bind(Object(A.a)(a)),a}return Object(u.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.state,t=(e.data,e.barIndex,e.left,e.right,e.refAreaLeft,e.refAreaRight,e.top,e.bottom,e.top2,e.bottom2,e.incomedata);return o.a.createElement("div",{ref:this.saveRef,className:"highlight-bar-charts",style:{userSelect:"none"}},o.a.createElement(fe,{defaultValue:[I()(I()().add("day",-7).format("YYYY-MM-DD"),"YYYY-MM-DD"),I()(I()().format("YYYY-MM-DD"),"YYYY-MM-DD")],format:"YYYY-MM-DD",onChange:this.DatePickerFunction.bind(this)}),o.a.createElement(H.g,{width:1500,height:700,data:t},o.a.createElement(H.c,{strokeDasharray:"3 3"}),o.a.createElement(H.k,{dataKey:"\u65e5\u671f",type:"category"}),o.a.createElement(H.l,null),o.a.createElement(H.j,null),o.a.createElement(H.e,null),o.a.createElement(H.f,{yAxisId:"1",type:"natural",dataKey:"\u71df\u696d\u984d",stroke:"#FF0000",animationDuration:300}),o.a.createElement(H.f,{yAxisId:"1",type:"natural",dataKey:"\u9032\u8ca8\u652f\u51fa",stroke:"#00FF00",animationDuration:300}),o.a.createElement(H.f,{yAxisId:"1",type:"natural",dataKey:"\u96dc\u652f",stroke:"#0000FF",animationDuration:300})))}},{key:"componentWillMount",value:function(e){var t=this;window.addEventListener("resize",this.updateDimensions),console.log("componentWillMount"),b.a.get(Y+"/ShopData/getIncomeData",{params:{shopname:window.localStorage.getItem("shopname"),branch:window.localStorage.getItem("branch"),start:I()().add("day",-7).format("YYYY-MM-DD"),end:I()().format("YYYY-MM-DD")}}).then(function(e){t.setState({incomedata:e.data}),console.log(t.state.incomedata)}).catch(function(e){console.log(e)})}},{key:"componentWillUnmount",value:function(){console.log("componentWillUnmount"),window.removeEventListener("resize",this.updateDimensions)}},{key:"componentWillUpdate",value:function(){console.log("componentWillUpdate")}},{key:"DatePickerFunction",value:function(e,t){var a=this;b.a.get(Y+"/ShopData/getIncomeData",{params:{shopname:window.localStorage.getItem("shopname"),branch:window.localStorage.getItem("branch"),start:t[0],end:t[1]}}).then(function(e){a.setState({incomedata:e.data}),console.log(a.state.data)}).catch(function(e){console.log(e)})}}]),t}(n.PureComponent);we.jsfiddleUrl="https://jsfiddle.net/alidingling/nhpemhgs/";a(620);var Ee=_.a.MonthPicker,ye=[{name:"Page A",uv:4e3,pv:1200,amt:2400},{name:"Page B",uv:3e3,pv:1398,amt:2210}],be=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).handleChange=function(e,t,n){a.setState({filteredInfo:t,sortedInfo:n})},a.updateDimensions=function(e){console.log("AreaChart updateDimensions");var t=a.refDom,n=t.clientWidth,o=t.clientHeight;console.log("===================================="),console.log(n,o,a.refDom),console.log("===================================="),a.setState({chartWidth:n})},a.state={data:ye,month:I()().format("YYY-MM"),chartWidth:a.props.Width,chartHeight:500},a.saveRef=function(e){a.refDom=e},a.updateDimensions=a.updateDimensions.bind(Object(A.a)(a)),a}return Object(u.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.state.sortedInfo,t=[{title:"\u54c1\u9805",dataIndex:"title",key:"title",width:"10%"},{title:"\u7e3d\u9032\u8ca8",dataIndex:"\u7e3d\u9032\u8ca8",key:"\u7e3d\u9032\u8ca8",width:"30%",defaultSortOrder:"descend",sorter:function(e,t){return e.\u7e3d\u9032\u8ca8-t.\u7e3d\u9032\u8ca8},sortOrder:"\u7e3d\u9032\u8ca8"===(e=e||{}).columnKey&&e.order},{title:"\u7e3d\u92b7\u552e",dataIndex:"\u7e3d\u92b7\u552e",key:"\u7e3d\u92b7\u552e",width:"30%",sorter:function(e,t){return e.\u7e3d\u92b7\u552e-t.\u7e3d\u92b7\u552e},sortOrder:"\u7e3d\u92b7\u552e"===e.columnKey&&e.order},{title:"\u5831\u5ee2",dataIndex:"\u5831\u5ee2",key:"\u5831\u5ee2",width:"30%",sorter:function(e,t){return e.\u5831\u5ee2-t.\u5831\u5ee2},sortOrder:"\u5831\u5ee2"===e.columnKey&&e.order}],a=this.state,n=a.chartWidth,l=a.data;return o.a.createElement("div",{ref:this.saveRef},o.a.createElement(Ee,{defaultValue:I()(this.state.month,"YYYY-MM"),format:"YYYY-MM",onChange:this.MonthPickerFunction.bind(this)}),o.a.createElement(H.b,{width:n,height:500,data:l,margin:{top:20,right:30,left:20,bottom:5}},o.a.createElement(H.c,{strokeDasharray:"3 3"}),o.a.createElement(H.k,{dataKey:"title"}),o.a.createElement(H.l,null),o.a.createElement(H.j,null),o.a.createElement(H.e,null),o.a.createElement(H.a,{dataKey:"\u7e3d\u92b7\u552e",stackId:"a",fill:"#8884d8"}),o.a.createElement(H.a,{dataKey:"\u5831\u5ee2",stackId:"a",fill:"#ff0000"}),o.a.createElement(H.a,{dataKey:"\u7e3d\u9032\u8ca8",fill:"#82ca9d"})),o.a.createElement(K.a,{columns:t,dataSource:this.state.data,size:"small",pagination:!1,scroll:{y:240},onChange:this.handleChange}))}},{key:"componentWillMount",value:function(){var e=this;window.addEventListener("resize",this.updateDimensions);var t,a=window.localStorage.getItem("AchievingPageDate_Month");null===a&&(a=I()().format("YYYY-MM")),t=I()(a).add("month",-1).format("YYYY-MM"),b.a.get(Y+"/ShopData/getAchieving",{params:{shopname:window.localStorage.getItem("shopname"),branch:window.localStorage.getItem("branch"),month:a,lastmonth:t}}).then(function(t){e.setState({data:t.data}),console.log(e.state.data)}).catch(function(e){console.log(e)}),this.setState({month:a})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateDimensions)}},{key:"componentWillUpdate",value:function(){}},{key:"MonthPickerFunction",value:function(e,t){var a,n=this;window.localStorage.setItem("AchievingPageDate_Month",t),a=I()(t).add("month",-1).format("YYYY-MM"),b.a.get(Y+"/ShopData/getAchieving",{params:{shopname:window.localStorage.getItem("shopname"),branch:window.localStorage.getItem("branch"),month:t,lastmonth:a}}).then(function(e){n.setState({data:e.data}),console.log(n.state.data)}).catch(function(e){console.log(e)}),this.setState({month:t})}}]),t}(o.a.Component),ve=(a(621),_.a.MonthPicker),De=[{title:"\u54c1\u9805",dataIndex:"title",key:"title",render:function(e){return o.a.createElement("a",{href:"javascript:;"},e)}},{title:"\u6578\u91cf",dataIndex:"order",key:"order",width:"2cm"}],ke=[{title:"\u54c1\u9805",dataIndex:"title",key:"title",render:function(e){return o.a.createElement("a",{href:"javascript:;"},e)}},{title:"\u6578\u91cf",dataIndex:"scrap",key:"scrap",width:"2cm"}],Ie=[{title:"\u9805\u76ee",dataIndex:"title",key:"title",render:function(e){return o.a.createElement("a",{href:"javascript:;"},e)}},{title:"\u91d1\u984d",dataIndex:"cost",key:"cost",width:"2cm"}],Ye=[{title:"",dataIndex:"title",key:"title",render:function(e){return o.a.createElement("a",{href:"javascript:;"},e)}},{title:"\u91d1\u984d",dataIndex:"income",key:"income",width:"2cm"}],Me=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={total_income:[],total_expense:[],total_order:[],total_scrap:[],month:I()().format("YYYY-MM")},a}return Object(u.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(ve,{defaultValue:I()(this.state.month,"YYYY-MM"),format:"YYYY-MM",onChange:this.MonthPickerFunction.bind(this)}),o.a.createElement("h3",{style:{marginBottom:16}},"\u7e3d\u71df\u6536"),o.a.createElement(K.a,{columns:Ye,dataSource:this.state.total_income,size:"small",pagination:!1,scroll:{y:240}}),o.a.createElement("h3",{style:{marginBottom:16}},"\u7e3d\u652f\u51fa"),o.a.createElement(K.a,{columns:Ie,dataSource:this.state.total_expense,size:"small",pagination:!1,scroll:{y:240}}),o.a.createElement("h3",{style:{marginBottom:16}},"\u7e3d\u9032\u8ca8"),o.a.createElement(K.a,{columns:De,dataSource:this.state.total_order,size:"small",pagination:!1,scroll:{y:240}}),o.a.createElement("h3",{style:{marginBottom:16}},"\u7e3d\u5831\u5ee2"),o.a.createElement(K.a,{columns:ke,dataSource:this.state.total_scrap,size:"small",pagination:!1,scroll:{y:240}}))}},{key:"MonthPickerFunction",value:function(e,t){var a=this;window.localStorage.setItem("StatisticsPageDate_Month",t),b.a.get(Y+"/ShopData/getStatistics",{params:{shopname:window.localStorage.getItem("shopname"),branch:window.localStorage.getItem("branch"),month:t}}).then(function(e){a.setState({data:e.data}),a.setState({total_income:e.data[0],total_expense:e.data[1],total_order:e.data[2],total_scrap:e.data[3]}),console.log(a.state.data)}).catch(function(e){console.log(e)}),this.setState({month:t})}},{key:"componentWillMount",value:function(){var e=this;window.addEventListener("resize",this.updateDimensions);var t=window.localStorage.getItem("StatisticsPageDate_Month");null===t&&(t=I()().format("YYYY-MM")),b.a.get(Y+"/ShopData/getStatistics",{params:{shopname:window.localStorage.getItem("shopname"),branch:window.localStorage.getItem("branch"),month:t}}).then(function(t){e.setState({data:t.data}),e.setState({total_income:t.data[0],total_expense:t.data[1],total_order:t.data[2],total_scrap:t.data[3]}),console.log(e.state.data)}).catch(function(e){console.log(e)}),this.setState({month:t})}}]),t}(o.a.Component),Oe=g.a.Header,je=g.a.Footer,xe=g.a.Sider,Pe=g.a.Content,Ce=[{key:1,shopname:"xxx"}],Be=(o.a.createElement(L.b,null,o.a.createElement(L.b.Item,{key:"99",selectable:!0},"\u5eb7\u6a02\u7e3d\u5e97"),o.a.createElement(L.b.Item,{key:"1"},"\u5927\u57d4\u5e97"),o.a.createElement(L.b.Divider,null),o.a.createElement(L.b.Item,{key:"2"},"\u9ebb\u8c46\u5e97")),o.a.createElement(L.b,null),o.a.createElement("div",null,o.a.createElement("p",null,"\u59d3\u540d\uff1a"),o.a.createElement("p",null,"\u985e\u578b\uff1a\u958b\u767c\u8005"),o.a.createElement(x.a,null,"\u767b\u51fa",o.a.createElement(j.a,{type:"logout"}))),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).ShopChangeHandle=function(e){console.log("dropdown change to "+e.key),a.setState({Branch:a.state.BranchList[e.key-1].branch}),window.localStorage.setItem("branch",a.state.BranchList[e.key-1].branch)},a.state={Branch:window.localStorage.getItem("branch"),BranchList:Ce,StockPage:!1,ScrapPage:!1,isAuth:"",Display:""},a.saveRef=function(e){a.refDom=e},a}return Object(u.a)(t,e),Object(m.a)(t,[{key:"StockFunction",value:function(e){this.setState({StockPage:!0})}},{key:"ScrapFunction",value:function(e){this.setState({ScrapPage:!0})}},{key:"LogoutFunction",value:function(){window.sessionStorage.setItem("isAuth","false"),this.setState({isAuth:"false"})}},{key:"render",value:function(){var e=this,t=[{path:"/Main",exact:!0,main:function(){return o.a.createElement(ae,{Branch:e.state.Branch,Width:1500})}},{path:"/StockList",exact:!0,main:function(){return o.a.createElement(ge,{Branch:e.state.Branch,Width:e.refDom.clientWidth})}},{path:"/bubblegum",exact:!0,main:function(){return o.a.createElement($,{Branch:e.state.Branch,Width:e.refDom.clientWidth})}},{path:"/BalanceSheet",exact:!0,main:function(){return o.a.createElement(G,{Branch:e.state.Branch,Width:e.refDom.clientWidth})}},{path:"/Statistics",exact:!0,main:function(){return o.a.createElement(Me,{Branch:e.state.Branch,Width:e.refDom.clientWidth})}},{path:"/Achieving",exact:!0,main:function(){return o.a.createElement(be,{Branch:e.state.Branch,Width:e.refDom.clientWidth})}}],a=this.state,n=a.StockPage,l=a.ScrapPage,c=(a.isAuth,a.BranchList);return"false"===window.sessionStorage.getItem("isAuth")?o.a.createElement(s.a,{to:"/"}):!0===n?o.a.createElement(s.a,{to:"User"}):!0===l?o.a.createElement(s.a,{to:"Scrap"}):(console.log("Main"),o.a.createElement("div",{className:"MainPage"},o.a.createElement(g.a,null,o.a.createElement(Oe,{className:"Header"},o.a.createElement("img",{className:"CSILOGO",src:E.a,alt:"CSILOGO"}),o.a.createElement(ie,{name:window.localStorage.getItem("name"),branch:window.localStorage.getItem("branch"),permission:window.sessionStorage.getItem("permission"),shape:"square",dropdown:!1,logout:function(){return e.LogoutFunction()}}),o.a.createElement(N.a,{className:"Dropdown",overlay:o.a.createElement(L.b,{onClick:this.ShopChangeHandle},c.map(function(e){return o.a.createElement(L.b.Item,{key:e.key,selectable:!0},e.branch)})),trigger:["click"]},o.a.createElement("a",{className:"ant-dropdown-link"},this.state.Branch," ",o.a.createElement(j.a,{type:"down"})))),o.a.createElement(g.a,null,o.a.createElement(r.a,null,o.a.createElement(xe,{theme:"light",className:"Sider",breakpoint:"lg",collapsedWidth:"0",onBreakpoint:function(e){console.log(e)},onCollapse:function(e,t){console.log(e,t)}},o.a.createElement("div",{className:"SiderItem"},o.a.createElement(L.b,{style:{background:"#ccedfc",padding:0},theme:"light",mode:"inline",defaultSelectedKeys:["1"]},o.a.createElement(L.b.Item,{key:"1"},o.a.createElement(j.a,{type:"shop"}),o.a.createElement("span",{className:"nav-text"},"\u5e97\u5bb6\u8cc7\u8a0a"),o.a.createElement(r.b,{to:"/Main"})),o.a.createElement(L.b.Item,{key:"2"},o.a.createElement(j.a,{type:"stock"}),o.a.createElement("span",{className:"nav-text"},"\u5eab\u5b58\u660e\u7d30"),o.a.createElement(r.b,{to:"/StockList"})),o.a.createElement(L.b.Item,{key:"3"},o.a.createElement(j.a,{type:"money-collect"}),o.a.createElement("span",{className:"nav-text"},"\u6536\u652f\u5716"),o.a.createElement(r.b,{to:"/BalanceSheet"})),o.a.createElement(L.b.Item,{key:"4"},o.a.createElement(j.a,{type:"bar-chart"}),o.a.createElement("span",{className:"nav-text"},"\u9054\u6210\u7387"),o.a.createElement(r.b,{to:"/Achieving"})),o.a.createElement(L.b.Item,{key:"5"},o.a.createElement(j.a,{type:"profile"}),o.a.createElement("span",{className:"nav-text"},"\u7d71\u8a08"),o.a.createElement(r.b,{to:"/Statistics"})),o.a.createElement(L.b.Item,{key:"6"},o.a.createElement(j.a,{type:"unordered-list"}),o.a.createElement("span",{className:"nav-text"},"\u76e4\u9ede"),o.a.createElement("a",{onClick:this.StockFunction.bind(this)})),o.a.createElement(L.b.Item,{key:"7"},o.a.createElement(j.a,{type:"delete"}),o.a.createElement("span",{className:"nav-text"},"\u5831\u5ee2"),o.a.createElement("a",{onClick:this.ScrapFunction.bind(this)}))))),o.a.createElement(Pe,{className:"Content"},o.a.createElement("div",{style:{display:"flex",width:"100%",height:"100%"}},o.a.createElement("div",{ref:this.saveRef,style:{flex:1,padding:"10px",width:"0%"}},t.map(function(e,t){return o.a.createElement(s.b,{key:t,path:e.path,exact:e.exact,component:e.main})})))))),o.a.createElement(je,{className:"Footer"},"Information"))))}},{key:"componentWillMount",value:function(){var e=this;console.log("componentWillMount"),console.log(window.localStorage.getItem("shopname")),b.a.get(Y+"/ShopInfo/getBranch",{params:{shopname:window.localStorage.getItem("shopname")}}).then(function(t){e.setState({BranchList:t.data})}).catch(function(e){console.log(e)}),"9"===window.sessionStorage.getItem("permission")?this.setState({Position:"\u958b\u767c\u8005",Display:!0}):"7"===window.sessionStorage.getItem("permission")&&this.setState({Position:"\u8001\u95c6",Display:!1})}}]),t}(o.a.Component)),Fe=(a(279),a(640)),Ue=a(641),We=a(638);a(622);var Le=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).onChange=function(e){var t=e.target.value;(!Number.isNaN(t)&&/^-?(0|[1-9][0-9]*)(\.[0-9]*)?$/.test(t)||""===t||"-"===t)&&a.props.onChange(t)},a.onBlur=function(){var e=a.props.onBlur;e&&e()},a}return Object(u.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return o.a.createElement(O.a,Object.assign({},this.props,{onChange:this.onChange,onBlur:this.onBlur,placeholder:"",maxLength:25}))}}]),t}(o.a.Component),Ne=g.a.Header,Ae=g.a.Content,Ke=function(e){Fe.a[e]({message:"\u4e0a\u50b3\u6210\u529f"})},He=["\u71df\u696d\u984d"],_e=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).StockValueStore=function(e,t){var n=a.state.data;console.log("===",t),n.forEach(function(a){a.key===e.key&&(a.stock=t)}),a.setState({data:n})},a.OrderValueStore=function(e,t){var n=a.state.data;console.log("order:",t),n.forEach(function(a){a.key===e.key&&(a.order=t)}),a.setState({data:n})},a.ExpenseValueStore=function(e,t){var n=a.state.expense;console.log("expense:",t),n.forEach(function(a){a.key===e.key&&(a.cost=t)}),a.setState({expense:n})},a.IncomStore=function(e){a.setState({Income:e})},a.DataUpdata=function(e){a.setState({Update:!0})},a.state={isAuth:"",UploadDisable:!0,data:"",expense:"",Income:"",Shop:"",Name:"",Branch:"",Permission:"",Position:"",Display:!1,MainPage:!1,ScrapPage:!1,Update:!1},a}return Object(u.a)(t,e),Object(m.a)(t,[{key:"LogoutFunction",value:function(){this.setState({isAuth:"false"}),window.sessionStorage.setItem("isAuth","false")}},{key:"MainFnction",value:function(e){this.setState({MainPage:!0})}},{key:"ScrapFunction",value:function(e){this.setState({ScrapPage:!0})}},{key:"render",value:function(){var e=this,t=this.state,a=t.data,n=t.expense,l=t.isAuth,c=t.MainPage,r=t.ScrapPage;return"false"===l?(console.log("logout"),o.a.createElement(s.a,{to:"/"})):!0===c?o.a.createElement(s.a,{to:"Main"}):!0===r?o.a.createElement(s.a,{to:"Scrap"}):o.a.createElement("div",{className:"App"},o.a.createElement(f.a,null,o.a.createElement(g.a,null,o.a.createElement(S.a,{span:24},o.a.createElement(Ne,{className:"Header"},o.a.createElement("div",null,this.state.Display&&o.a.createElement(j.a,{type:"delete",theme:"filled",className:"delete",style:{fontSize:"1cm",color:"#ff0011"},onClick:this.ScrapFunction.bind(this)}),o.a.createElement(ie,{name:window.localStorage.getItem("name"),branch:window.localStorage.getItem("branch"),permission:window.sessionStorage.getItem("permission"),shape:"circle",size:60,dropdown:!0,shopchange:this.DataUpdata,logout:function(){return e.LogoutFunction()}}),this.state.Display&&o.a.createElement(j.a,{type:"bar-chart",className:"analyze",style:{fontSize:"1cm",color:"#08c"},onClick:this.MainFnction.bind(this)})))),o.a.createElement(S.a,{span:24},o.a.createElement(Ae,null,o.a.createElement("div",{className:"Content"},o.a.createElement("div",{className:"ListName"},o.a.createElement(Ue.a,{bordered:!0,dataSource:a,renderItem:function(t){return o.a.createElement(Ue.a.Item,{key:t.key,actions:[o.a.createElement(We.a,{key:t.key,className:"Number",value:t.stock,onChange:function(a){return e.StockValueStore(t,a)},defaultValue:"0"}),o.a.createElement(We.a,{key:t.key,className:"Order",value:t.order,placeholder:"\u53eb\u8ca8",onChange:function(a){return e.OrderValueStore(t,a)},decimalSeparator:"."})]},t.title)}}),o.a.createElement(Ue.a,{bordered:!0,dataSource:n,renderItem:function(t){return o.a.createElement(Ue.a.Item,{key:t.key,actions:[o.a.createElement(Le,{style:{width:130},key:t.key,addonBefore:"NTD:",value:t.cost,onChange:function(a){return e.ExpenseValueStore(t,a)},defaultValue:"0"})]},t.title)}}),o.a.createElement(Ue.a,{bordered:!0,dataSource:He,renderItem:function(t){return o.a.createElement(Ue.a.Item,{actions:[o.a.createElement(Le,{style:{width:130},addonBefore:"NTD:",value:e.state.Income,onChange:function(t){return e.IncomStore(t)}})]},"\u71df\u696d\u984d")}})),o.a.createElement(x.a,{type:"primary",className:"Upload",disabled:this.state.UploadDisable,onClick:this.UploadFunction.bind(this)},"\u4e0a\u50b3")))))))}},{key:"LogoutFunction",value:function(){this.setState({isAuth:"false"}),window.sessionStorage.setItem("isAuth","false")}},{key:"UploadFunction",value:function(e){var t=this;this.state.data;b.a.get(Y+"/ShopData/getTodayData",{params:{shopname:window.localStorage.getItem("shopname"),branch:window.localStorage.getItem("branch"),today:I()().format("YYYY-MM-DD")}}).then(function(e){console.log(e.data),0===e.data.length?b.a.post(Y+"/ShopData/add",{shopname:window.localStorage.getItem("shopname"),branch:window.localStorage.getItem("branch"),name:window.localStorage.getItem("name"),date:I()().format("YYYY-MM-DD"),time:I()().format("hh:mm"),stock:t.state.data,expense:t.state.expense,income:t.state.Income}).then(function(e){console.log(e),window.sessionStorage.getItem("permission")<7&&(t.setState({UploadDisable:!0}),b.a.put(Y+"/User/updateUploaddate/"+window.sessionStorage.getItem("auto_increment"),{date:I()().format("YYYY-MM-DD")}).then(function(e){console.log(e)}).catch(function(e){console.log(e)})),console.log("success"),window.sessionStorage.setItem("lastupload",I()().format("YYYY-MM-DD")),Ke("success")}).catch(function(e){console.log(e)}):b.a.put(Y+"/ShopData/UpdateStock/"+e.data[0],{name:window.localStorage.getItem("name"),time:I()().format("hh:mm"),stock:t.state.data,expense:t.state.expense,income:t.state.Income}).then(function(e){console.log(e),Ke("success")}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})}},{key:"componentWillMount",value:function(){var e=this;console.log("componentWillMount"),b.a.get(Y+"/ShopData/getLastStock",{params:{shop:window.localStorage.getItem("shopname"),branch:window.localStorage.getItem("branch")}}).then(function(t){for(var a in t.data)t.data[a].order=0,t.data[a].scrap=0;e.setState({data:t.data,Branch:window.localStorage.getItem("branch"),isAuth:window.sessionStorage.getItem("isAuth"),Permission:window.sessionStorage.getItem("permission")})}).catch(function(e){console.log(e)}),b.a.get(Y+"/ShopData/getLastExpense",{params:{shop:window.localStorage.getItem("shopname"),branch:window.localStorage.getItem("branch")}}).then(function(t){for(var a in t.data)t.data[a].cost=0;e.setState({expense:t.data})}).catch(function(e){console.log(e)}),"9"===window.sessionStorage.getItem("permission")?this.setState({Position:"\u958b\u767c\u8005",Display:!0}):"7"===window.sessionStorage.getItem("permission")?this.setState({Position:"\u8001\u95c6",Display:!0}):"5"===window.sessionStorage.getItem("permission")?this.setState({Position:"\u5e97\u9577"}):this.setState({Position:"\u4eba\u54e1"}),console.log(window.sessionStorage.getItem("isAuth")),window.sessionStorage.getItem("lastupload")!==I()().format("YYYY-MM-DD")&&("16"!==I()().format("HH")&&"17"!==I()().format("HH")&&"18"!==I()().format("HH")&&"19"!==I()().format("HH")&&"20"!==I()().format("HH")&&"21"!==I()().format("HH")||this.setState({UploadDisable:!1})),this.setState({UploadDisable:!1})}},{key:"componentDidMount",value:function(){console.log("componentdDidMount"),console.log(I()().format("YYYY-MM-DD hh:mm"))}},{key:"componentDidUpdate",value:function(){var e=this;console.log("componentDidUpdate"),!0===this.state.Update&&(b.a.get(Y+"/ShopData/getLastStock",{params:{shop:window.localStorage.getItem("shopname"),branch:window.localStorage.getItem("branch")}}).then(function(t){if(t.data!==[]){for(var a in t.data)t.data[a].order=0,t.data[a].scrap=0;e.setState({data:t.data,Branch:window.localStorage.getItem("branch"),UploadDisable:!1})}else console.log("test 1"),e.setState({data:"",Branch:window.localStorage.getItem("branch")})}).catch(function(t){console.log(t),console.log("test 2"),e.setState({data:"",Branch:window.localStorage.getItem("branch"),UploadDisable:!0})}),b.a.get(Y+"/ShopData/getLastExpense",{params:{shop:window.localStorage.getItem("shopname"),branch:window.localStorage.getItem("branch")}}).then(function(t){if(t.data!==[]){for(var a in t.data)t.data[a].cost=0;e.setState({expense:t.data})}else console.log("test 3"),e.setState({expense:"",UploadDisable:!0})}).catch(function(t){console.log(t),console.log("test 4"),e.setState({expense:"",UploadDisable:!0})}),this.setState({Update:!1}))}}]),t}(o.a.Component),ze=(a(623),a(633)),Re=g.a.Header,Ve=g.a.Content,Ge=function(e){Fe.a[e]({message:"\u4e0a\u50b3\u6210\u529f"})},Te=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).ScrapValueStore=function(e,t){var n=a.state.data;n.forEach(function(a){a.key===e.key&&(a.scrap=t)}),a.setState({data:n})},a.DataUpdata=function(e){a.setState({Update:!0})},a.Getdata=function(){},a.state={isAuth:"",UploadDisable:!0,data:"",expense:"",Income:"",Shop:"",Name:"",Branch:"",Permission:"",Position:"",Display:!1,MainPage:!1,UserPage:!1,Update:!1},a}return Object(u.a)(t,e),Object(m.a)(t,[{key:"LogoutFunction",value:function(){this.setState({isAuth:"false"}),window.sessionStorage.setItem("isAuth","false")}},{key:"MainFnction",value:function(e){this.setState({MainPage:!0})}},{key:"UserFunction",value:function(e){this.setState({UserPage:!0})}},{key:"render",value:function(){var e=this,t=this.state,a=t.data,n=t.isAuth,l=t.MainPage,c=t.UserPage;return"false"===n?(console.log("logout"),o.a.createElement(s.a,{to:"/"})):!0===l?o.a.createElement(s.a,{to:"Main"}):!0===c?o.a.createElement(s.a,{to:"User"}):o.a.createElement("div",{className:"App"},o.a.createElement(f.a,null,o.a.createElement(g.a,null,o.a.createElement(S.a,{span:24},o.a.createElement(Re,{className:"Header"},o.a.createElement("div",null,o.a.createElement(j.a,{type:"bars",className:"store",style:{fontSize:"1cm",color:"#08c"},onClick:this.UserFunction.bind(this)}),o.a.createElement(ie,{name:window.localStorage.getItem("name"),branch:window.localStorage.getItem("branch"),permission:window.sessionStorage.getItem("permission"),shape:"circle",size:60,dropdown:!0,shopchange:this.DataUpdata,logout:function(){return e.LogoutFunction()}}),o.a.createElement(j.a,{type:"bar-chart",className:"analyze",style:{fontSize:"1cm",color:"#08c"},onClick:this.MainFnction.bind(this)})))),o.a.createElement(S.a,{span:24},o.a.createElement(Ve,null,o.a.createElement("div",{className:"Content"},o.a.createElement("div",{className:"ListName"},o.a.createElement(Ue.a,{bordered:!0,dataSource:a,renderItem:function(t){return o.a.createElement(Ue.a.Item,{key:t.key,actions:[o.a.createElement(We.a,{key:t.key,className:"Scrap",value:t.scrap,placeholder:"\u53eb\u8ca8",onChange:function(a){return e.ScrapValueStore(t,a)},decimalSeparator:"."})]},t.title)}})),o.a.createElement("div",{className:"deleteSw"},o.a.createElement(ze.a,{checked:this.state.deleteSw,onChange:this.deleteSwFunc.bind(this)})),o.a.createElement("div",{className:"deleteBtn"},o.a.createElement(x.a,{disabled:this.state.UploadDisable,type:"danger",className:"Upload",onClick:this.UploadFunction.bind(this)},o.a.createElement(j.a,{type:"delete",style:{fontSize:"0.7cm"}})))))))))}},{key:"deleteSwFunc",value:function(e){console.log(e),!0===e?this.setState({UploadDisable:!1,deleteSw:!0}):!1===e&&this.setState({UploadDisable:!0,deleteSw:!1})}},{key:"UploadFunction",value:function(e){var t=this;console.log(this.state.Shop),this.setState({UploadDisable:!0,deleteSw:!1}),b.a.get(Y+"/ShopData/getTodayData",{params:{shopname:window.localStorage.getItem("shopname"),branch:window.localStorage.getItem("branch"),today:I()().format("YYYY-MM-DD")}}).then(function(e){console.log(e.data),0===e.data.length?b.a.post(Y+"/ShopData/add",{shopname:window.localStorage.getItem("shopname"),branch:window.localStorage.getItem("branch"),name:window.localStorage.getItem("name"),date:I()().format("YYYY-MM-DD"),time:I()().format("hh:mm"),stock:t.state.data,expense:t.state.expense,income:t.state.Income}).then(function(e){console.log(e),Ge("success")}).catch(function(e){console.log(e)}):b.a.put(Y+"/ShopData/UpdateScrap/"+e.data[0],{name:window.localStorage.getItem("name"),time:I()().format("hh:mm"),stock:t.state.data}).then(function(e){console.log(e),Ge("success")}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})}},{key:"componentWillMount",value:function(){var e=this;console.log("componentWillMount"),b.a.get(Y+"/ShopData/getLastStock",{params:{shop:window.localStorage.getItem("shopname"),branch:window.localStorage.getItem("branch")}}).then(function(t){for(var a in t.data)t.data[a].stock=0,t.data[a].order=0,t.data[a].scrap=0;e.setState({data:t.data,Branch:window.localStorage.getItem("branch")})}).catch(function(e){console.log(e)}),b.a.get(Y+"/ShopData/getLastExpense",{params:{shop:window.localStorage.getItem("shopname"),branch:window.localStorage.getItem("branch")}}).then(function(t){for(var a in t.data)t.data[a].cost=0;e.setState({expense:t.data})}).catch(function(e){console.log(e)})}},{key:"componentDidMount",value:function(){console.log("componentdDidMount"),console.log(I()().format("YYYY-MM-DD hh:mm"))}},{key:"componentDidUpdate",value:function(){var e=this;console.log("componentDidUpdate"),!0===this.state.Update&&b.a.get(Y+"/ShopData/getLastStock",{params:{shop:window.localStorage.getItem("shopname"),branch:window.localStorage.getItem("branch")}}).then(function(t){if(console.log(t.data),t.data!==[]){for(var a in t.data)t.data[a].stock=0,t.data[a].order=0,t.data[a].scrap=0;e.setState({data:t.data,Branch:window.localStorage.getItem("branch"),Update:!1})}else e.setState({data:"",Name:window.localStorage.getItem("branch"),Update:!1})}).catch(function(t){console.log(t),e.setState({data:"",Branch:window.localStorage.getItem("branch"),Update:!1})})}}]),t}(o.a.Component),qe=[{title:"Ant Design Title 1",key:1,value:0},{title:"Ant Design Title 2",key:2,value:""},{title:"Ant Design Title 3",key:3,value:""},{title:"Ant Design Title 4",key:4,value:""}];o.a.Component;var Je=function(){return o.a.createElement(r.a,null,o.a.createElement("div",null,o.a.createElement(s.b,{path:"/",exact:!0,component:W}),o.a.createElement(s.b,{path:"/Main",component:Be}),o.a.createElement(s.b,{path:"/User",component:_e}),o.a.createElement(s.b,{path:"/Scrap",component:Te})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(Je,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[325,1,2]]]);
//# sourceMappingURL=main.d898a328.chunk.js.map